webpackJsonp([3],{"17J1":function(t,e,i){var a=i("ntGA");"string"==typeof a&&(a=[[t.i,a,""]]),a.locals&&(t.exports=a.locals);i("rjj0")("cf0ae85a",a,!0)},Wtgd:function(t,e,i){"use strict";function a(t){i("17J1")}Object.defineProperty(e,"__esModule",{value:!0});var o=i("3p7W"),l={data:function(){return{value:"",DepOption:"",DestOption:"",currentPage:1,pageSize:10,totalNum:10,aaData:[],addvisible:!1,editvisible:!1,seatvisible:!1,from:"",to:"",addForm:{depTime:"",destTime:"",shiftNum:"",supplierDepartureId:"",supplierDestinationId:"",ticketPrice:""},editForm:{depTime:"",destTime:"",shiftNum:"",supplierDepartureId:"",supplierDestinationId:"",ticketPrice:"",id:""},searchForm:{shiftNum:""},seatForm:{fromDate:"",endDate:"",totalSeatNum:"",id:""},formLabelWidth:"120px",seatOption:""}},methods:{shipSchSearch:function(){var t=this,e=this.searchForm;e.pageIndex=this.currentPage,e.pageSize=this.pageSize;for(var i in e)""==String(e[i])&&delete e[i];o.a.shipSchSearch(e,function(e){e&&(t.aaData=e.data.result)})},add:function(){this.DestOption=[],this.addvisible=!0},addSure:function(){var t=this;console.log(this.addForm);for(var e in this.addForm)if(""==String(this.addForm[e]))return void this.$message({showClose:!0,message:"所有输入框为必填项",type:"fail"});o.a.shipSchAdd(this.addForm,function(e){e&&(t.addvisible=!1,t.shipSchSearch(),t.$message({showClose:!0,message:"增加成功",type:"success"}))})},search:function(){this.currentPage=1,this.shipSchSearch()},seat:function(){this.seatvisible=!0,this.shipSearchAll()},shipSearchAll:function(){var t=this;o.a.shipSearchAll({},function(e){e&&(t.seatOption=e.data.result)})},seatSure:function(){var t=this;for(var e in this.seatForm)if(""==String(this.seatForm[e]))return void this.$message({showClose:!0,message:"所有输入框为必填项",type:"fail"});o.a.shipSchUpAddSeat(this.seatForm,function(e){e&&(t.seatvisible=!1,t.shipSchSearch(),t.$message({showClose:!0,message:"生成成功",type:"success"}))})},edit:function(t,e,i,a,o,l,s,n){this.editvisible=!0,this.editForm={depTime:l,destTime:s,shiftNum:e,supplierDepartureId:i+"",supplierDestinationId:a+"",ticketPrice:o,id:t};var r={depStationCode:i,depStationName:n};this.getDestList(r)},editSure:function(){var t=this;for(var e in this.editForm)if(""==String(this.editForm[e]))return void this.$message({showClose:!0,message:"所有输入框为必填项",type:"fail"});o.a.shipSchUpdate(this.editForm,function(e){e&&(t.editvisible=!1,t.shipSchSearch(),t.$message({showClose:!0,message:"编辑成功",type:"success"}))})},del:function(t){var e=this;this.$confirm("是否继续删除操作?","提示",{confirmButtonText:"确定",cancelButtonText:"取消",type:"warning"}).then(function(){o.a.shipSchDelete({id:t},function(t){t&&(e.shipSchSearch(),e.$message({showClose:!0,message:"删除成功",type:"success"}))})}).catch(function(){})},getDestList:function(t){var e=this;o.a.getDestList(t,function(t){t&&(e.DestOption=t.data.result)})},getDepList:function(){var t=this;o.a.getDepList({vehicleType:2},function(e){e&&(t.DepOption=e.data.result)})},depChange:function(t){for(var e={},i=0;i<this.DepOption.length;i++)this.DepOption[i].depStationCode==t&&(e.depStationCode=t,e.depStationName=this.DepOption[i].depStation);this.getDestList(e)},destChange:function(){console.log("000")},handleSizeChange:function(t){this.pageSize=t,this.shipSchSearch()},handleCurrentChange:function(t){this.currentPage=t,this.shipSchSearch()}},mounted:function(){this.getDepList(),this.shipSchSearch()}},s=function(){var t=this,e=t.$createElement,i=t._self._c||e;return i("div",[i("el-tag",{staticStyle:{"margin-left":"20px","margin-bottom":"20px",width:"200px",height:"40px","text-align":"center","line-height":"40px","font-size":"20px"},attrs:{type:"warning"}},[t._v("轮渡线路")]),t._v(" "),i("el-col",{staticStyle:{"padding-bottom":"30px"},attrs:{span:23}},[i("el-row",[i("el-col",{staticClass:"el-col",staticStyle:{"margin-left":"0"},attrs:{span:4}},[i("p",{staticClass:"input-title"},[t._v("班次:")]),t._v(" "),i("el-input",{attrs:{placeholder:"请输入班次"},model:{value:t.searchForm.shiftNum,callback:function(e){t.$set(t.searchForm,"shiftNum",e)},expression:"searchForm.shiftNum"}})],1),t._v(" "),i("el-col",{staticClass:"el-col",attrs:{span:1.5}},[i("p",{staticClass:"input-title"},[t._v(" ")]),t._v(" "),i("el-button",{attrs:{type:"primary",icon:"el-icon-search"},on:{click:t.search}},[t._v("查询")])],1),t._v(" "),i("el-col",{staticClass:"el-col",attrs:{span:1.5}},[i("p",{staticClass:"input-title"},[t._v(" ")]),t._v(" "),i("el-button",{attrs:{type:"primary",icon:"el-icon-plus"},on:{click:t.add}},[t._v("新增")])],1),t._v(" "),i("el-col",{staticClass:"el-col",attrs:{span:1.5}},[i("p",{staticClass:"input-title"},[t._v(" ")]),t._v(" "),i("el-button",{attrs:{type:"primary",icon:"el-icon-plus"},on:{click:t.seat}},[t._v("库存维护")])],1)],1)],1),t._v(" "),i("el-col",{staticStyle:{"padding-top":"30px"},attrs:{span:23}},[i("table",{staticClass:"content-table"},[i("tr",[i("th",[t._v("班次")]),t._v(" "),i("th",[t._v("出发地")]),t._v(" "),i("th",[t._v("到达地")]),t._v(" "),i("th",[t._v("库存")]),t._v(" "),i("th",[t._v("库存维护到期时间")]),t._v(" "),i("th",[t._v("票价")]),t._v(" "),i("th",[t._v("操作")])]),t._v(" "),t._l(t.aaData.data,function(e,a){return i("tr",[i("td",[t._v(t._s(e.shiftNum))]),t._v(" "),i("td",[t._v(t._s(e.depStationName))]),t._v(" "),i("td",[t._v(t._s(e.destStationName))]),t._v(" "),i("td",[t._v(t._s(e.totalSeatNum))]),t._v(" "),i("td",[t._v(t._s(e.lastDepDate))]),t._v(" "),i("td",[t._v(t._s(e.ticketPrice))]),t._v(" "),i("td",[i("span",{staticClass:"dothis",on:{click:function(i){t.edit(e.id,e.shiftNum,e.supplierDepartureId,e.supplierDestinationId,e.ticketPrice,e.depTime,e.destTime,e.depStationName)}}},[t._v("编辑")]),t._v(" "),i("span",{staticClass:"dothis",on:{click:function(i){t.del(e.id)}}},[t._v("删除")])])])})],2),t._v(" "),i("div",{staticClass:"block page-f",staticStyle:{position:"relative",width:"100%"}},[i("el-pagination",{staticStyle:{position:"absolute",right:"0"},attrs:{background:"","current-page":t.currentPage,"page-size":t.pageSize,"page-sizes":[10,20,30,40],layout:"total,prev, pager, next, jumper",total:t.aaData.totalCount},on:{"size-change":t.handleSizeChange,"current-change":t.handleCurrentChange,"update:currentPage":function(e){t.currentPage=e}}})],1),t._v(" "),i("div",{staticStyle:{height:"80px"}})]),t._v(" "),i("el-dialog",{attrs:{title:"新增线路",visible:t.addvisible},on:{"update:visible":function(e){t.addvisible=e}}},[i("el-form",{attrs:{model:t.addForm}},[i("el-form-item",{attrs:{label:"班次","label-width":t.formLabelWidth}},[i("el-input",{staticStyle:{width:"400px"},attrs:{"auto-complete":"off",placeholder:"请输入班次"},model:{value:t.addForm.shiftNum,callback:function(e){t.$set(t.addForm,"shiftNum",e)},expression:"addForm.shiftNum"}})],1),t._v(" "),i("el-form-item",{attrs:{label:"出发地","label-width":t.formLabelWidth}},[i("el-select",{staticStyle:{width:"400px"},attrs:{placeholder:"请选择出发地"},on:{change:t.depChange},model:{value:t.addForm.supplierDepartureId,callback:function(e){t.$set(t.addForm,"supplierDepartureId",e)},expression:"addForm.supplierDepartureId"}},t._l(t.DepOption,function(t){return i("el-option",{key:t.depStationCode,attrs:{label:t.depStation,value:t.depStationCode}})}))],1),t._v(" "),i("el-form-item",{attrs:{label:"到达地","label-width":t.formLabelWidth}},[i("el-select",{staticStyle:{width:"400px"},attrs:{placeholder:"请选择到达地(先选择出发地)"},on:{change:t.destChange},model:{value:t.addForm.supplierDestinationId,callback:function(e){t.$set(t.addForm,"supplierDestinationId",e)},expression:"addForm.supplierDestinationId"}},t._l(t.DestOption,function(t){return i("el-option",{key:t.destStationCode,attrs:{label:t.destStation,value:t.destStationCode}})}))],1),t._v(" "),i("el-form-item",{attrs:{label:"出发时间","label-width":t.formLabelWidth}},[i("el-time-picker",{attrs:{"value-format":"HH:mm",placeholder:"出发时间"},model:{value:t.addForm.depTime,callback:function(e){t.$set(t.addForm,"depTime",e)},expression:"addForm.depTime"}})],1),t._v(" "),i("el-form-item",{attrs:{label:"到达时间","label-width":t.formLabelWidth}},[i("el-time-picker",{attrs:{"value-format":"HH:mm",placeholder:"到达时间"},model:{value:t.addForm.destTime,callback:function(e){t.$set(t.addForm,"destTime",e)},expression:"addForm.destTime"}})],1),t._v(" "),i("el-form-item",{attrs:{label:"票价","label-width":t.formLabelWidth}},[i("el-input",{staticStyle:{width:"400px"},attrs:{"auto-complete":"off ",placeholder:"请输入票价"},model:{value:t.addForm.ticketPrice,callback:function(e){t.$set(t.addForm,"ticketPrice",e)},expression:"addForm.ticketPrice"}})],1)],1),t._v(" "),i("div",{staticClass:"dialog-footer",attrs:{slot:"footer"},slot:"footer"},[i("el-button",{on:{click:function(e){t.addvisible=!1}}},[t._v("取 消")]),t._v(" "),i("el-button",{attrs:{type:"primary"},on:{click:t.addSure}},[t._v("确 定")])],1)],1),t._v(" "),i("el-dialog",{attrs:{title:"编辑线路",visible:t.editvisible},on:{"update:visible":function(e){t.editvisible=e}}},[i("el-form",{attrs:{model:t.editForm}},[i("el-form-item",{attrs:{label:"班次","label-width":t.formLabelWidth}},[i("el-input",{staticStyle:{width:"400px"},attrs:{"auto-complete":"off",placeholder:"请输入班次"},model:{value:t.editForm.shiftNum,callback:function(e){t.$set(t.editForm,"shiftNum",e)},expression:"editForm.shiftNum"}})],1),t._v(" "),i("el-form-item",{attrs:{label:"出发地","label-width":t.formLabelWidth}},[i("el-select",{staticStyle:{width:"400px"},attrs:{placeholder:"请选择出发地"},on:{change:t.depChange},model:{value:t.editForm.supplierDepartureId,callback:function(e){t.$set(t.editForm,"supplierDepartureId",e)},expression:"editForm.supplierDepartureId"}},t._l(t.DepOption,function(t){return i("el-option",{key:t.depStationCode,attrs:{label:t.depStation,value:t.depStationCode}})}))],1),t._v(" "),i("el-form-item",{attrs:{label:"到达地","label-width":t.formLabelWidth}},[i("el-select",{staticStyle:{width:"400px"},attrs:{placeholder:"请选择到达地(先选择出发地)"},on:{change:t.destChange},model:{value:t.editForm.supplierDestinationId,callback:function(e){t.$set(t.editForm,"supplierDestinationId",e)},expression:"editForm.supplierDestinationId"}},t._l(t.DestOption,function(t){return i("el-option",{key:t.destStationCode,attrs:{label:t.destStation,value:t.destStationCode}})}))],1),t._v(" "),i("el-form-item",{attrs:{label:"出发时间","label-width":t.formLabelWidth}},[i("el-time-picker",{attrs:{"value-format":"HH:mm",placeholder:"出发时间"},model:{value:t.editForm.depTime,callback:function(e){t.$set(t.editForm,"depTime",e)},expression:"editForm.depTime"}})],1),t._v(" "),i("el-form-item",{attrs:{label:"到达时间","label-width":t.formLabelWidth}},[i("el-time-picker",{attrs:{"value-format":"HH:mm",placeholder:"到达时间"},model:{value:t.editForm.destTime,callback:function(e){t.$set(t.editForm,"destTime",e)},expression:"editForm.destTime"}})],1),t._v(" "),i("el-form-item",{attrs:{label:"票价","label-width":t.formLabelWidth}},[i("el-input",{staticStyle:{width:"400px"},attrs:{"auto-complete":"off ",placeholder:"请输入票价"},model:{value:t.editForm.ticketPrice,callback:function(e){t.$set(t.editForm,"ticketPrice",e)},expression:"editForm.ticketPrice"}})],1)],1),t._v(" "),i("div",{staticClass:"dialog-footer",attrs:{slot:"footer"},slot:"footer"},[i("el-button",{on:{click:function(e){t.editvisible=!1}}},[t._v("取 消")]),t._v(" "),i("el-button",{attrs:{type:"primary"},on:{click:t.editSure}},[t._v("确 定")])],1)],1),t._v(" "),i("el-dialog",{attrs:{title:"库存维护",visible:t.seatvisible},on:{"update:visible":function(e){t.seatvisible=e}}},[i("el-form",{attrs:{model:t.seatForm}},[i("el-form-item",{attrs:{label:"班次","label-width":t.formLabelWidth}},[i("el-select",{staticStyle:{width:"400px"},attrs:{placeholder:"请选择出发地"},model:{value:t.seatForm.id,callback:function(e){t.$set(t.seatForm,"id",e)},expression:"seatForm.id"}},t._l(t.seatOption,function(t){return i("el-option",{key:t.id,attrs:{label:t.shiftNum,value:t.id}})}))],1),t._v(" "),i("el-form-item",{attrs:{label:"库存","label-width":t.formLabelWidth}},[i("el-input",{staticStyle:{width:"400px"},attrs:{"auto-complete":"off ",placeholder:"请输入库存"},model:{value:t.seatForm.totalSeatNum,callback:function(e){t.$set(t.seatForm,"totalSeatNum",e)},expression:"seatForm.totalSeatNum"}})],1),t._v(" "),i("el-form-item",{attrs:{label:"批量生成开始","label-width":t.formLabelWidth}},[i("el-date-picker",{attrs:{type:"date","value-format":"yyyy-MM-dd",placeholder:"选择日期"},model:{value:t.seatForm.fromDate,callback:function(e){t.$set(t.seatForm,"fromDate",e)},expression:"seatForm.fromDate"}})],1),t._v(" "),i("el-form-item",{attrs:{label:"批量生成结束","label-width":t.formLabelWidth}},[i("el-date-picker",{attrs:{type:"date","value-format":"yyyy-MM-dd",placeholder:"选择日期"},model:{value:t.seatForm.endDate,callback:function(e){t.$set(t.seatForm,"endDate",e)},expression:"seatForm.endDate"}})],1)],1),t._v(" "),i("div",{staticClass:"dialog-footer",attrs:{slot:"footer"},slot:"footer"},[i("el-button",{on:{click:function(e){t.seatvisible=!1}}},[t._v("取 消")]),t._v(" "),i("el-button",{attrs:{type:"primary"},on:{click:t.seatSure}},[t._v("确 定")])],1)],1)],1)},n=[],r={render:s,staticRenderFns:n},d=r,c=i("VU/8"),p=a,m=c(l,d,!1,p,null,null);e.default=m.exports},ntGA:function(t,e,i){e=t.exports=i("FZ+f")(!0),e.push([t.i,"\n.input-title{\n    font-size: 14px !important;\n    font-weight: 600;\n}\n.el-col{\n    margin-left: 20px;\n}\n::-webkit-scrollbar-thumb{\n    background-color: gainsboro;\n}\n.cell{\n    text-align: center;\n}\n#content-main{\n    overflow: scroll;\n}\n.el-table{\n    overflow: scroll;\n}\n.content-table{\n    width: 100%;\n    border-collapse:collapse;\n    background-color: white;\n    text-align: center;\n}\n.content-table th{\n    height: 40px;\n    border: 1px solid #F2F3F4;\n    text-align: center;\n    background-color: gainsboro;\n}\n.content-table td{\n    height: 40px;\n    border: 1px solid #F2F3F4;\n}\n.dothis{\n    color: #3C9CFC;\n    cursor:default;\n    margin-left: 10px;\n}\n.page-f{\n    margin-top: 20px;\n    float: right;\n}\n.content-table span:hover{\n    color: silver;\n}\n.el-col-23{\n    width: 99% !important;\n}\n","",{version:3,sources:["D:/MyConfiguration/jmx48939/Desktop/gz.railway.adminsystem/src/views/ferry_way.vue"],names:[],mappings:";AACA;IACI,2BAA2B;IAC3B,iBAAiB;CACpB;AACD;IACI,kBAAkB;CACrB;AACD;IACI,4BAA4B;CAC/B;AACD;IACI,mBAAmB;CACtB;AACD;IACI,iBAAiB;CACpB;AACD;IACI,iBAAiB;CACpB;AACD;IACI,YAAY;IACZ,yBAAyB;IACzB,wBAAwB;IACxB,mBAAmB;CACtB;AACD;IACI,aAAa;IACb,0BAA0B;IAC1B,mBAAmB;IACnB,4BAA4B;CAC/B;AACD;IACI,aAAa;IACb,0BAA0B;CAC7B;AACD;IACI,eAAe;IACf,eAAe;IACf,kBAAkB;CACrB;AACD;IACI,iBAAiB;IACjB,aAAa;CAChB;AACD;IACI,cAAc;CACjB;AACD;IACI,sBAAsB;CACzB",file:"ferry_way.vue",sourcesContent:["\n.input-title{\n    font-size: 14px !important;\n    font-weight: 600;\n}\n.el-col{\n    margin-left: 20px;\n}\n::-webkit-scrollbar-thumb{\n    background-color: gainsboro;\n}\n.cell{\n    text-align: center;\n}\n#content-main{\n    overflow: scroll;\n}\n.el-table{\n    overflow: scroll;\n}\n.content-table{\n    width: 100%;\n    border-collapse:collapse;\n    background-color: white;\n    text-align: center;\n}\n.content-table th{\n    height: 40px;\n    border: 1px solid #F2F3F4;\n    text-align: center;\n    background-color: gainsboro;\n}\n.content-table td{\n    height: 40px;\n    border: 1px solid #F2F3F4;\n}\n.dothis{\n    color: #3C9CFC;\n    cursor:default;\n    margin-left: 10px;\n}\n.page-f{\n    margin-top: 20px;\n    float: right;\n}\n.content-table span:hover{\n    color: silver;\n}\n.el-col-23{\n    width: 99% !important;\n}\n"],sourceRoot:""}])}});
//# sourceMappingURL=3.84c2f5102d867f48f54d.js.map