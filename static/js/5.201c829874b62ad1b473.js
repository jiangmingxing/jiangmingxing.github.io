webpackJsonp([5],{De8I:function(t,e,o){e=t.exports=o("FZ+f")(!0),e.push([t.i,"\n.input-title{\n    font-size: 14px !important;\n    font-weight: 600;\n}\n.el-col{\n    margin-left: 20px;\n}\n::-webkit-scrollbar-thumb{\n    background-color: gainsboro;\n}\n.cell{\n    text-align: center;\n}\n#content-main{\n    overflow: scroll;\n}\n.el-table{\n    overflow: scroll;\n}\n.content-table{\n    width: 100%;\n    border-collapse:collapse;\n    background-color: white;\n    text-align: center;\n}\n.content-table th{\n    height: 40px;\n    border: 1px solid #F2F3F4;\n    text-align: center;\n    background-color: gainsboro;\n}\n.content-table td{\n    height: 40px;\n    border: 1px solid #F2F3F4;\n}\n.dothis{\n    color: #3C9CFC;\n    cursor:default;\n    margin-left: 10px;\n}\n.page-f{\n    margin-top: 20px;\n    float: right;\n}\n.content-table span:hover{\n    color: silver;\n}\n.el-col-23{\n    width: 99% !important;\n}\n","",{version:3,sources:["D:/MyConfiguration/jmx48939/Desktop/gz.railway.adminsystem/src/views/account_manage.vue"],names:[],mappings:";AACA;IACI,2BAA2B;IAC3B,iBAAiB;CACpB;AACD;IACI,kBAAkB;CACrB;AACD;IACI,4BAA4B;CAC/B;AACD;IACI,mBAAmB;CACtB;AACD;IACI,iBAAiB;CACpB;AACD;IACI,iBAAiB;CACpB;AACD;IACI,YAAY;IACZ,yBAAyB;IACzB,wBAAwB;IACxB,mBAAmB;CACtB;AACD;IACI,aAAa;IACb,0BAA0B;IAC1B,mBAAmB;IACnB,4BAA4B;CAC/B;AACD;IACI,aAAa;IACb,0BAA0B;CAC7B;AACD;IACI,eAAe;IACf,eAAe;IACf,kBAAkB;CACrB;AACD;IACI,iBAAiB;IACjB,aAAa;CAChB;AACD;IACI,cAAc;CACjB;AACD;IACI,sBAAsB;CACzB",file:"account_manage.vue",sourcesContent:["\n.input-title{\n    font-size: 14px !important;\n    font-weight: 600;\n}\n.el-col{\n    margin-left: 20px;\n}\n::-webkit-scrollbar-thumb{\n    background-color: gainsboro;\n}\n.cell{\n    text-align: center;\n}\n#content-main{\n    overflow: scroll;\n}\n.el-table{\n    overflow: scroll;\n}\n.content-table{\n    width: 100%;\n    border-collapse:collapse;\n    background-color: white;\n    text-align: center;\n}\n.content-table th{\n    height: 40px;\n    border: 1px solid #F2F3F4;\n    text-align: center;\n    background-color: gainsboro;\n}\n.content-table td{\n    height: 40px;\n    border: 1px solid #F2F3F4;\n}\n.dothis{\n    color: #3C9CFC;\n    cursor:default;\n    margin-left: 10px;\n}\n.page-f{\n    margin-top: 20px;\n    float: right;\n}\n.content-table span:hover{\n    color: silver;\n}\n.el-col-23{\n    width: 99% !important;\n}\n"],sourceRoot:""}])},IgeK:function(t,e,o){var a=o("De8I");"string"==typeof a&&(a=[[t.i,a,""]]),a.locals&&(t.exports=a.locals);o("rjj0")("71bcbdcc",a,!0)},ZsfM:function(t,e,o){"use strict";function a(t){o("IgeK")}Object.defineProperty(e,"__esModule",{value:!0});var n=o("3p7W"),i={data:function(){return{value:"",currentPage:1,pageSize:10,totalNum:10,aaData:[],supplierShow:!1,addvisible:!1,editvisible:!1,authvisible:!1,from:"",to:"",searchForm:{},addForm:{account:"",password:"",name:""},editForm:{account:"",password:"",name:""},authForm:{account:"",modules:[],suppliers:[]},moduleOptions:[],supplierOptions:[],value5:[],formLabelWidth:"120px"}},methods:{getUsers:function(){var t=this,e=this.searchForm;e.pageStartIndex=this.currentPage,e.pageRowsCount=this.pageSize;for(var o in e)""==String(e[o])&&delete e[o];n.a.getalluser(e,function(e){t.aaData=e.data.result})},edit:function(t,e){this.editvisible=!0,this.editForm={account:t,password:"",name:e}},editsure:function(){var t=this;for(var e in this.editForm)if(""==String(this.editForm[e]))return void this.$message({showClose:!0,message:"所有输入框为必填",type:"fail"});n.a.edituser(this.editForm,function(e){e&&(t.editvisible=!1,t.$message({showClose:!0,message:"编辑成功",type:"success"}),t.getUsers())})},auth:function(t){var e=this;n.a.userRoles({account:t,token:localStorage.getItem("token")},function(o){for(var a=[],n=[],i=0;i<o.data.result.moduls.length;i++)a.push(o.data.result.moduls[i].id);for(var i=0;i<o.data.result.suppliers.length;i++)n.push(o.data.result.suppliers[i].supplierid);e.authForm.modules=a,e.authForm.suppliers=n,-1==a.indexOf(2)?e.supplierShow=!1:e.supplierShow=!0,e.getSupplier(),e.getMoudel(),e.authForm.account=t,e.authvisible=!0})},authsure:function(){var t=this;this.authForm.modules=this.authForm.modules.sort(function(t,e){return t-e}),n.a.bindauth(this.authForm,function(e){e&&(t.authvisible=!1,t.$message({showClose:!0,message:"成功",type:"success"}),t.getUsers())})},addruntime:function(){this.addvisible=!0;for(var t in this.addForm)this.addForm[t]=""},addsure:function(){var t=this;if(""==this.addForm.name)return void this.$message({showClose:!0,message:"名称为空",type:"fail"});n.a.adduser(this.addForm,function(e){e&&(t.addvisible=!1,t.$message({showClose:!0,message:"新增成功",type:"success"}),t.getUsers())})},authChange:function(t){-1==t.indexOf(2)?(this.authForm.suppliers=[],this.supplierShow=!1):this.supplierShow=!0},del:function(t){var e=this;this.$confirm("是否继续删除操作?","提示",{confirmButtonText:"确定",cancelButtonText:"取消",type:"warning"}).then(function(){n.a.deleteuser({account:t},function(t){t&&(e.$message({showClose:!0,message:"删除成功",type:"fail"}),e.getUsers())})}).catch(function(){})},getMoudel:function(){var t=this;n.a.adminmodules({},function(e){e&&(t.moduleOptions=e.data.result)})},getSupplier:function(){var t=this;n.a.adminsupplier({},function(e){e&&(t.supplierOptions=e.data.result)})},handleSizeChange:function(t){this.pageSize=t,this.getUsers()},handleCurrentChange:function(t){this.currentPage=t,this.getUsers()}},mounted:function(){this.getUsers()}},l=function(){var t=this,e=t.$createElement,o=t._self._c||e;return o("div",[o("el-tag",{staticStyle:{"margin-left":"20px","margin-bottom":"10px",width:"200px",height:"40px","text-align":"center","line-height":"40px","font-size":"20px"},attrs:{type:"warning"}},[t._v("账号管理")]),t._v(" "),o("el-col",{staticStyle:{"padding-bottom":"30px"},attrs:{span:23}},[o("el-row",[o("el-col",{staticClass:"el-col",attrs:{span:1.5}},[o("p",{staticClass:"input-title"},[t._v(" ")]),t._v(" "),o("el-button",{attrs:{type:"primary",icon:"el-icon-plus"},on:{click:t.addruntime}},[t._v("新增")])],1)],1)],1),t._v(" "),o("el-col",{staticStyle:{"padding-top":"30px"},attrs:{span:23}},[o("table",{staticClass:"content-table"},[o("tr",[o("th",[t._v("名称")]),t._v(" "),o("th",[t._v("账号")]),t._v(" "),o("th",[t._v("操作")])]),t._v(" "),t._l(t.aaData,function(e,a){return o("tr",[o("td",[t._v(t._s(e.name))]),t._v(" "),o("td",[t._v(t._s(e.account))]),t._v(" "),o("td",[o("span",{staticClass:"dothis",on:{click:function(o){t.edit(e.account,e.name)}}},[t._v("编辑")]),t._v(" "),o("span",{staticClass:"dothis",on:{click:function(o){t.auth(e.account)}}},[t._v("设置权限")]),t._v(" "),o("span",{staticClass:"dothis",on:{click:function(o){t.del(e.account)}}},[t._v("删除")])])])})],2),t._v(" "),o("div",{staticClass:"block page-f",staticStyle:{position:"relative",width:"100%"}}),t._v(" "),o("div",{staticStyle:{height:"80px"}})]),t._v(" "),o("el-dialog",{attrs:{title:"新增账号",visible:t.addvisible},on:{"update:visible":function(e){t.addvisible=e}}},[o("el-form",{attrs:{model:t.addForm}},[o("el-form-item",{attrs:{label:"名称","label-width":t.formLabelWidth}},[o("el-input",{staticStyle:{width:"300px"},attrs:{"auto-complete":"off ",placeholder:"请输入名称"},model:{value:t.addForm.name,callback:function(e){t.$set(t.addForm,"name",e)},expression:"addForm.name"}})],1),t._v(" "),o("el-form-item",{attrs:{label:"账号","label-width":t.formLabelWidth}},[o("el-input",{staticStyle:{width:"300px"},attrs:{"auto-complete":"off",placeholder:"请输入账号"},model:{value:t.addForm.account,callback:function(e){t.$set(t.addForm,"account",e)},expression:"addForm.account"}})],1),t._v(" "),o("el-form-item",{attrs:{label:"密码","label-width":t.formLabelWidth}},[o("el-input",{staticStyle:{width:"300px"},attrs:{"auto-complete":"off ",placeholder:"请输入密码"},model:{value:t.addForm.password,callback:function(e){t.$set(t.addForm,"password",e)},expression:"addForm.password"}})],1)],1),t._v(" "),o("div",{staticClass:"dialog-footer",attrs:{slot:"footer"},slot:"footer"},[o("el-button",{on:{click:function(e){t.addvisible=!1}}},[t._v("取 消")]),t._v(" "),o("el-button",{attrs:{type:"primary"},on:{click:t.addsure}},[t._v("确 定")])],1)],1),t._v(" "),o("el-dialog",{attrs:{title:"编辑账号",visible:t.editvisible},on:{"update:visible":function(e){t.editvisible=e}}},[o("el-form",{attrs:{model:t.editForm}},[o("el-form-item",{attrs:{label:"名称","label-width":t.formLabelWidth}},[o("el-input",{staticStyle:{width:"300px"},attrs:{"auto-complete":"off ",placeholder:"请输入名称"},model:{value:t.editForm.name,callback:function(e){t.$set(t.editForm,"name",e)},expression:"editForm.name"}})],1),t._v(" "),o("el-form-item",{attrs:{label:"账号","label-width":t.formLabelWidth}},[o("el-input",{staticStyle:{width:"300px"},attrs:{"auto-complete":"off",placeholder:"请输入账号"},model:{value:t.editForm.account,callback:function(e){t.$set(t.editForm,"account",e)},expression:"editForm.account"}})],1),t._v(" "),o("el-form-item",{attrs:{label:"密码","label-width":t.formLabelWidth}},[o("el-input",{staticStyle:{width:"300px"},attrs:{"auto-complete":"off ",placeholder:"请输入新密码"},model:{value:t.editForm.password,callback:function(e){t.$set(t.editForm,"password",e)},expression:"editForm.password"}})],1)],1),t._v(" "),o("div",{staticClass:"dialog-footer",attrs:{slot:"footer"},slot:"footer"},[o("el-button",{on:{click:function(e){t.editvisible=!1}}},[t._v("取 消")]),t._v(" "),o("el-button",{attrs:{type:"primary"},on:{click:t.editsure}},[t._v("确 定")])],1)],1),t._v(" "),o("el-dialog",{attrs:{title:"设置权限",visible:t.authvisible},on:{"update:visible":function(e){t.authvisible=e}}},[o("el-form",{attrs:{model:t.authForm}},[o("el-form-item",{attrs:{label:"权限","label-width":t.formLabelWidth}},[o("el-select",{staticStyle:{width:"300px"},attrs:{multiple:"",placeholder:"请选择"},on:{change:t.authChange},model:{value:t.authForm.modules,callback:function(e){t.$set(t.authForm,"modules",e)},expression:"authForm.modules"}},t._l(t.moduleOptions,function(t){return o("el-option",{key:t.id,attrs:{label:t.modulename,value:t.id}})}))],1),t._v(" "),t.supplierShow?o("el-form-item",{attrs:{label:"供应商","label-width":t.formLabelWidth}},[o("el-select",{staticStyle:{width:"300px"},attrs:{multiple:"",placeholder:"请选择"},model:{value:t.authForm.suppliers,callback:function(e){t.$set(t.authForm,"suppliers",e)},expression:"authForm.suppliers"}},t._l(t.supplierOptions,function(t){return o("el-option",{key:t.supplierId,attrs:{label:t.supplierName,value:t.supplierId}})}))],1):t._e()],1),t._v(" "),o("div",{staticClass:"dialog-footer",attrs:{slot:"footer"},slot:"footer"},[o("el-button",{on:{click:function(e){t.authvisible=!1}}},[t._v("取 消")]),t._v(" "),o("el-button",{attrs:{type:"primary"},on:{click:t.authsure}},[t._v("确 定")])],1)],1)],1)},s=[],r={render:l,staticRenderFns:s},c=r,u=o("VU/8"),d=a,p=u(i,c,!1,d,null,null);e.default=p.exports}});
//# sourceMappingURL=5.201c829874b62ad1b473.js.map